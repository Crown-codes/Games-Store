<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>NEXUS Launcher</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  /* ðŸŒŒ Global Styles */
  body {
    margin: 0;
    background: linear-gradient(135deg, #0b0d12, #141824);
    color: #e5e7eb;
    font-family: system-ui, sans-serif;
  }

  /* ðŸš€ Header */
  header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px 24px;
    background: #0f1320;
    box-shadow: 0 2px 8px rgba(0,0,0,0.4);
  }
  header h2 {
    margin: 0;
    font-size: 1.5rem;
    color: #3b82f6;
    letter-spacing: 2px;
  }

  /* ðŸŽ¯ Buttons */
  button {
    background: #3b82f6;
    border: none;
    color: white;
    padding: 10px 16px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.3s ease;
  }
  button:hover {
    background: #2563eb;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(59,130,246,0.4);
  }

  /* ðŸ§© Grid Layout */
  .grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
    gap: 20px;
    padding: 20px;
  }

  /* ðŸŽ® Game Cards */
  .card {
    background: #1a1f2e;
    border-radius: 14px;
    overflow: hidden;
    cursor: pointer;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  .card:hover {
    transform: scale(1.05);
    box-shadow: 0 6px 16px rgba(0,0,0,0.5);
  }
  .card img, .card video {
    width: 100%;
    height: 140px;
    object-fit: cover;
    border-bottom: 1px solid #2c2f3a;
  }
  .card video { display: none; }
  .card:hover video { display: block; }
  .card-content {
    padding: 12px;
    text-align: center;
    font-weight: bold;
    color: #f9fafb;
  }

  /* ðŸ“Œ Modal */
  .modal {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,.6);
    display: none;
    align-items: center;
    justify-content: center;
    backdrop-filter: blur(4px);
  }
  .modal.active { display: flex; }

  /* ðŸ“¦ Panel */
  .panel {
    background: #0f1320;
    padding: 24px;
    border-radius: 14px;
    width: 90%;
    max-width: 420px;
    box-shadow: 0 6px 18px rgba(0,0,0,0.6);
    animation: fadeIn 0.4s ease;
  }
  .panel h3 {
    margin-top: 0;
    color: #3b82f6;
    text-align: center;
  }

  /* âœ¨ Animations */
  @keyframes fadeIn {
    from { opacity: 0; transform: scale(0.9); }
    to { opacity: 1; transform: scale(1); }
  }
</style>
</head>
<body>

<header>
  <h2>NEXUS</h2>
  <button onclick="openLogin()">Login</button>
</header>

<div class="grid" id="grid"></div>

<!-- ðŸŽ® GAME MODAL -->
<div class="modal" id="gameModal">
  <div class="panel">
    <h3 id="gTitle"></h3>
    <p id="gDesc"></p>
    <button onclick="install()">Install</button>
    <button onclick="closeModal()">Close</button>
  </div>
</div>

<!-- ðŸ”‘ LOGIN MODAL -->
<div class="modal" id="loginModal">
  <div class="panel">
    <h3>Login</h3>
    <button onclick="loginAdmin()">Login as Admin</button>
    <button onclick="closeLogin()">Close</button>
  </div>
</div>

<script>
const STORAGE = "nexus_games";
const games = JSON.parse(localStorage.getItem(STORAGE)) || [
  {
    id: "nebula",
    title: "Nebula Drift",
    desc: "Sci-Fi RPG",
    image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSTtLbJtL77u_S8D9_iEghnkpX-lXprD80UKw&s",
    video: "https://youtu.be/pIQifuOTTe8",
    downloadUrl: "https://yourserver.com/nebula.zip",
    exe: "Nebula.exe"
  }
];

let selected = null;

function render() {
  const g = document.getElementById("grid");
  g.innerHTML = "";
  games.forEach(game => {
    const c = document.createElement("div");
    c.className = "card";
    c.innerHTML = `
      ${game.video ? `<video src="${game.video}" muted loop></video>` : ""}
      <img src="${game.image}">
      <div class="card-content">${game.title}</div>`;
    c.onmouseenter = () => c.querySelector("video")?.play();
    c.onmouseleave = () => c.querySelector("video")?.pause();
    c.onclick = () => openGame(game);
    g.appendChild(c);
  });
}

function openGame(g) {
  selected = g;
  document.getElementById("gTitle").textContent = g.title;
  document.getElementById("gDesc").textContent = g.desc;
  document.getElementById("gameModal").classList.add("active");
}

function closeModal() { document.getElementById("gameModal").classList.remove("active"); }
function openLogin() { document.getElementById("loginModal").classList.add("active"); }
function closeLogin() { document.getElementById("loginModal").classList.remove("active"); }
function loginAdmin() { alert("Admin enabled"); closeLogin(); }

/* ðŸ”¥ REAL INSTALL LOGIC */
async function install() {
  if (window.launcher) {
    await window.launcher.downloadGame(selected);
    alert("Game installed!");
  } else {
    alert("Installer works only in Electron launcher");
  }
}

render();
</script>
</body>
</html>
