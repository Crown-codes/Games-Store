<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>NEXUS Launcher</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{margin:0;background:#0b0d12;color:#e5e7eb;font-family:system-ui}
header{display:flex;justify-content:space-between;padding:16px;background:#0f1320}
button{background:#3b82f6;border:none;color:white;padding:8px 14px;border-radius:8px;cursor:pointer}
.grid{display:grid;grid-template-columns:repeat(auto-fill,220px);gap:20px;padding:20px}
.card{background:#141824;border-radius:14px;overflow:hidden;cursor:pointer}
.card img,.card video{width:100%;height:140px;object-fit:cover}
.card video{display:none}
.card:hover video{display:block}
.card-content{padding:12px}
.modal{position:fixed;inset:0;background:rgba(0,0,0,.6);display:none;align-items:center;justify-content:center}
.modal.active{display:flex}
.panel{background:#0f1320;padding:20px;border-radius:14px;width:90%;max-width:400px}
</style>
</head>
<body>

<header>
  <h2>NEXUS</h2>
  <button onclick="openLogin()">Login</button>
</header>

<div class="grid" id="grid"></div>

<!-- GAME MODAL -->
<div class="modal" id="gameModal">
  <div class="panel">
    <h3 id="gTitle"></h3>
    <p id="gDesc"></p>
    <button onclick="install()">Install</button>
    <button onclick="closeModal()">Close</button>
  </div>
</div>

<!-- LOGIN -->
<div class="modal" id="loginModal">
  <div class="panel">
    <h3>Login</h3>
    <button onclick="loginAdmin()">Login as Admin</button>
    <button onclick="closeLogin()">Close</button>
  </div>
</div>

<script>
const STORAGE="nexus_games";
const games=JSON.parse(localStorage.getItem(STORAGE))||[
 {id:"nebula",title:"Nebula Rift",desc:"Sci-Fi RPG",
  image:"https://via.placeholder.com/300x140",
  video:"",
  downloadUrl:"https://yourserver.com/nebula.zip",
  exe:"Nebula.exe"}
];

let selected=null;

function render(){
 const g=document.getElementById("grid");
 g.innerHTML="";
 games.forEach(game=>{
  const c=document.createElement("div");
  c.className="card";
  c.innerHTML=`
   ${game.video?`<video src="${game.video}" muted loop></video>`:""}
   <img src="${game.image}">
   <div class="card-content"><b>${game.title}</b></div>`;
  c.onmouseenter=()=>c.querySelector("video")?.play();
  c.onmouseleave=()=>c.querySelector("video")?.pause();
  c.onclick=()=>openGame(game);
  g.appendChild(c);
 });
}

function openGame(g){
 selected=g;
 document.getElementById("gTitle").textContent=g.title;
 document.getElementById("gDesc").textContent=g.desc;
 document.getElementById("gameModal").classList.add("active");
}

function closeModal(){document.getElementById("gameModal").classList.remove("active")}
function openLogin(){document.getElementById("loginModal").classList.add("active")}
function closeLogin(){document.getElementById("loginModal").classList.remove("active")}
function loginAdmin(){alert("Admin enabled");closeLogin()}

/* ðŸ”¥ REAL INSTALL LOGIC */
async function install(){
 if(window.launcher){
   await window.launcher.downloadGame(selected);
   alert("Game installed!");
 } else {
   alert("Installer works only in Electron launcher");
 }
}

render();
</script>
</body>
</html>
